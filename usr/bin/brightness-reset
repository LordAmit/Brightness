#!/usr/bin/env python3
# -*- coding:utf-8 -*-

import subprocess
from os import system


class BrightnessRestore():

    def detect_display_devices(self):

        """
        Detects available displays
        """
        connected_devices = []
        xrandr_output = subprocess.Popen(['xrandr', '-q'], stdout = subprocess.PIPE,stderr = subprocess.STDOUT)
        stdout,stderr = xrandr_output.communicate()
        connected_displays = [str(stdout.split()[14],'utf-8')]
        return connected_displays

    def __init__(self):
        self.detected_devices = self.detect_display_devices()
        self.primary_name = self.detected_devices[0]
        command = "xrandr --output \
                %s --brightness %s" % (self.primary_name, 1)
        system(command)


if __name__ == '__main__':
    BrightnessRestore()
